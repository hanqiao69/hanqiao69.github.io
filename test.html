<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <style type="text/css" id="filterStyle"></style>
</head>

    <script src="//d3js.org/d3.v3.min.js"></script>
  <script src="//d3js.org/topojson.v1.min.js"></script>
  <script src="//datamaps.github.io/scripts/datamaps.world.min.js?v=1"></script>

  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
    <link href='https://fonts.googleapis.com/css?family=Lekton' rel='stylesheet' type='text/css'>
 
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

 <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
               <div class="container">
           
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">Code Camp Network</a>
            </div>



            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav" style = "color: white;">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a class="page-scroll" href="#page-top"></a>
                    </li>

                    <li>
                        <a class="page-scroll" href="#Where">Where Are They Now?</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#search">Filter</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#codecamp">Code Campers</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->


        </div>

        </div>
        </nav>


  <article id = "intro">
  <?xml version="1.0" standalone="no"?>


  <!-- logo -->
  <svg class="code-camp-logo" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 240 165" fill="#cb4435">
  <path fill="#cb4435" d="M156.46,89.619c-2.174,4.31-5.104,8.182-8.611,11.428c-6.646,6.176-15.422,10.069-25.098,10.583
  c0.656-2.096,1.99-4.301,4.73-5.85c0,0,15.168-11.227,4.361-28.651c0,0,0.697,8.655-2.988,9.726c0,0,1.152-15.475-12.182-23.524
  c0,0,2.99,8.958-4.829,16.78c0,0-14.732,16.43,0.824,30.965C91.984,107.74,80.558,91.45,80.558,71.761
  c0-8.519,2.64-16.385,7.175-22.879c1.895,11.742,2.884,17.354,9.256,21.523l0.034,0.028c-3.122-6.745-4.878-14.228-4.878-22.149
  c0-1.656,0.089-3.313,0.239-4.954c1.699-18.276,12.706-33.845,28.218-41.948c-0.708,3.334-1.099,6.782-1.099,10.347
  c0,7.161,1.539,13.964,4.294,20.11c1.346,2.943,2.947,5.749,4.803,8.352c0.232-2.531,3.164-18.164,18.652-27.693
  c-2.459,8.502-2.176,22.268,6.059,36.155c2.982,5.032,7.379,12.055,7.379,23.108c0,6.205-1.443,12.097-3.967,17.357L156.46,89.619
  z" stroke-dashoffset="514.2355346679688" stroke-dasharray="514.2355346679688,514.2355346679688" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M194.438,108.081c-0.994,0-1.99-0.336-2.811-1.023c-1.852-1.553-2.092-4.312-0.539-6.161l22.52-26.781l-22.525-26.957
  c-1.549-1.854-1.303-4.613,0.553-6.163c1.855-1.548,4.613-1.301,6.162,0.553l24.873,29.768c1.359,1.627,1.357,3.993-0.006,5.617
  l-24.873,29.584C196.927,107.549,195.687,108.081,194.438,108.081z" stroke-dashoffset="181.15423583984375" stroke-dasharray="181.15423583984375,181.15423583984375" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M45.561,108.081c-1.25,0-2.489-0.532-3.355-1.564L17.334,76.933c-1.362-1.624-1.364-3.99-0.006-5.617l24.872-29.768
  c1.55-1.854,4.309-2.101,6.163-0.553c1.854,1.55,2.101,4.309,0.552,6.163L26.392,74.115l22.519,26.781
  c1.553,1.85,1.31,4.608-0.541,6.161C47.549,107.745,46.552,108.081,45.561,108.081z" stroke-dashoffset="181.1500244140625" stroke-dasharray="181.1500244140625,181.1500244140625" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M1.151,149.854c0-7.992,6.216-13.767,13.967-13.767c6.176,0,10.293,3.23,10.293,6.42c0,1.937-1.251,3.27-2.906,3.27
  c-1.817,0-3.068-1.132-3.068-2.866c0-0.524,0.12-1.049,0.283-1.374c-0.767-0.604-2.3-1.208-4.723-1.208
  c-5.167,0-9.124,3.954-9.124,9.484c0,5.328,3.714,9.568,9.325,9.568c3.109,0,5.651-1.373,7.629-3.513l3.028,3.147
  c-2.583,2.868-6.418,4.603-10.657,4.603C7.005,163.618,1.151,158.128,1.151,149.854z" stroke-dashoffset="127.89030456542969" stroke-dasharray="127.89030456542969,127.89030456542969" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M29.697,149.854c0-7.791,5.651-13.767,13.726-13.767c8.033,0,13.524,6.016,13.524,13.767
  c0,7.79-5.651,13.765-13.726,13.765C35.189,163.618,29.697,157.604,29.697,149.854z M52.223,149.854
  c0-5.531-3.753-9.525-8.879-9.525c-5.167,0-8.921,3.954-8.921,9.525c0,5.53,3.753,9.527,8.921,9.527
  C48.469,159.381,52.223,155.425,52.223,149.854z" stroke-dashoffset="145.0477294921875" stroke-dasharray="145.0477294921875,145.0477294921875" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M61.314,159.058h3.026v-18.408h-3.026v-4.078h10.051c9.607,0,15.299,5.007,15.299,13.04
  c0,8.113-5.369,13.523-15.785,13.523h-9.566V159.058z M71.527,159.058c6.862,0,10.415-3.716,10.415-9.405
  c0-5.814-4.117-9.003-10.738-9.003h-2.3v18.408H71.527z" stroke-dashoffset="153.679443359375" stroke-dasharray="153.679443359375,153.679443359375" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M91.031,159.058h3.028v-18.408h-3.028v-4.078h19.822v7.59h-4.36v-3.553h-7.873v7.104h8.033v3.876h-8.033v7.51h7.912
  v-3.554h4.36v7.59H91.031V159.058z" stroke-dashoffset="153.64999389648438" stroke-dasharray="153.64999389648438,153.64999389648438" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M125.593,149.854c0-7.992,6.218-13.767,13.969-13.767c6.175,0,10.293,3.23,10.293,6.42c0,1.937-1.25,3.27-2.906,3.27
  c-1.816,0-3.069-1.132-3.069-2.866c0-0.524,0.124-1.049,0.285-1.374c-0.768-0.604-2.301-1.208-4.723-1.208
  c-5.167,0-9.123,3.954-9.123,9.484c0,5.328,3.712,9.568,9.324,9.568c3.107,0,5.651-1.373,7.628-3.513l3.028,3.147
  c-2.584,2.868-6.42,4.603-10.656,4.603C131.447,163.618,125.593,158.128,125.593,149.854z" stroke-dashoffset="127.89178466796875" stroke-dasharray="127.89178466796875,127.89178466796875" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M152.608,159.058h2.3l6.621-18.449h-2.908v-4.037h15.019v4.037h-2.909l6.622,18.449h2.302v4.077h-10.213v-4.036h3.065
  l-1.491-4.36h-9.931l-1.495,4.36h3.23v4.036h-10.212V159.058z M169.763,150.943l-3.713-10.455l-3.713,10.455H169.763z" stroke-dashoffset="164.42410278320312" stroke-dasharray="164.42410278320312,164.42410278320312" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M182.083,159.058h3.149l0.848-18.408h-3.312v-4.078h7.269l8.153,14.776l8.155-14.776h7.223v4.078h-3.309l0.85,18.408
  h3.146v4.077h-10.898v-4.077h3.189l-0.526-13.686l-7.59,13.322h-0.603l-7.59-13.322l-0.527,13.686h3.189v4.077h-10.817V159.058z" stroke-dashoffset="209.23434448242188" stroke-dasharray="209.23434448242188,209.23434448242188" stroke="#ffffff" stroke-width="1px"></path>
  <path fill="#cb4435" d="M218.099,159.058h3.029v-18.408h-3.029v-4.078h10.697c5.693,0,10.053,3.27,10.053,8.68c0,6.097-4.318,9.084-10.577,9.084
  c-1.252,0-2.02,0-2.583-0.041v4.764h3.31v4.077h-10.899V159.058z M234.127,145.251c0-2.785-2.304-4.602-5.57-4.602h-2.868v9.608
  c0.485,0.04,1.129,0.079,2.986,0.079C232.106,150.337,234.127,148.4,234.127,145.251z" stroke-dashoffset="131.7005615234375" stroke-dasharray="131.7005615234375,131.7005615234375" stroke="#ffffff" stroke-width="1px"></path>
</svg>
<h1 style = "color:#cb4435; font-family: Roboto, sans-serif; letter-spacing: 5px; padding-bottom: 10px;"> NETWORK </h1>
  <h4>Connecting Generations of Code Campers Around the World </h4>
<video autoplay loop id="video-background" muted>
  <source src="codecamp.mp4" type="video/mp4">
</video>
<div id = "background-image"></div>
</article>




    
   <!-- <div
        class="fb-like"
        data-share="true"
        data-width="450"
        data-show-faces="true">
   </div> -->
   <fb:login-button scope="public_profile,email" onlogin="checkLoginState();" z-index=1235>
</fb:login-button>

</div>


<script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      // The person is not logged into Facebook, so we're not sure if
      // they are logged into this app or not.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
  FB.init({
    appId      : '{your-app-id}',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v2.2' // use version 2.2
  });

  // Now that we've initialized the JavaScript SDK, we call 
  // FB.getLoginStatus().  This function gets the state of the
  // person visiting this page and can return one of three states to
  // the callback you provide.  They can be:
  //
  // 1. Logged into your app ('connected')
  // 2. Logged into Facebook, but not your app ('not_authorized')
  // 3. Not logged into Facebook and can't tell if they are logged into
  //    your app or not.
  //
  // These three cases are handled in the callback function.

  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });

  };

  // Load the SDK asynchronously
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
</script>

<!--
  Below we include the Login Button social plugin. This button uses
  the JavaScript SDK to present a graphical Login button that triggers
  the FB.login() function when clicked.
-->



<div id="status">
</div>

</div>
<section id = "Where">
<div>
<div>
  <div id="container1" style="position: relative; width: 100%;"></div>


</section>
<hr>
<fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
</fb:login-button>
<section id = "search" style = "padding-top: 50px;">


<h2>Filter through Campers</h2>
<div id = "search">

  <div id="demo-2" style = "width: 100%">
  <input type="search" placeholder="Search" id="filter" type="text" class="form-control" style = "margin-left: 50px; margin-bottom: 20px">
  </div>



<table class="table table-striped">

</table>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Name</th>
            <th>Alma Mater</th>
            <th>Generation</th>
            <th>Current Location</th>
        </tr>
    </thead>
    <tbody class="searchable">

      <% @users.each do |user| %>
        <tr>
            <td><%= user.first_name %> <%= user.last_name %></td>
            <td><%= user.schools.first.name %></td>
            <td><%= user.generation %></td>
            <td><%= user.current_city %>, <%= user.current_state %></td>
        </tr>
        

        <% end %>
    </tbody>
</table>
</div>
</section>
<hr>


<section id = "codecamp" style = "padding-top: 50px;">
<h2> Code Campers </h2>

<button style="color:black;" data-filter="ping" data-reset="true">Reset</button>
Schools: <button style="color:black;" data-filter="ping" data-filter-tag="NYU">NYU</button>
<button style="color:black;" data-filter="ping" data-filter-tag="JN">JN</button>
<button style="color:black;" data-filter="ping" data-filter-tag="New York">New York</button>


<div id = "container">

<div class="ping">


<% @users.each do |user| %>

<div data-tags="<%= user.schools.first.name %> <%= user.generation %> <%= user.current_city %>">
<div class = "col-md-4" id = "team member">


<div class="flip-container">
  <div class="flipper">
    <div class="front" style = "background-image: url('http://a.abcnews.go.com/images/Technology/GTY_jack_dorsey_jef_150701_16x9_992.jpg'); background-size: cover; width: 100%; padding: 80px; max-width: 400px; width: 300px;">

        <h3> <%= user.first_name %> <%= user.last_name %> </h3>


    </div>
    <div class="back" style = "text-align: left;">

        <p> Lives in: <%= user.current_city %>, <%= user.current_state %> </p>
        <p> Went to: <%= user.schools.first.name %> </p>
        <p> Interested in: Ex. Ex. Ex. </p>
        <p> Has worked in: Ex ex ex </p>


    </div>
  </div>
</div>
</div>
</div>

</div>
</div>
</section>
<% end %>


  <script>
document.addEventListener('DOMContentLoaded', handleLookUp);


var map = new Datamap({

        scope: 'world',
         element: document.getElementById('container1'),

        projection: 'mercator',
        height: 600,
        width: 700,
        fills: {
          present: '#cb4435',
          notpresent: '#333',
          gt50: 'red'
        },

        
        data: {
          USA: {fillKey: 'present' },
          RUS: {fillKey: 'notpresent' },
          CAN: {fillKey: 'present' },
          BRA: {fillKey: 'notpresent' },
          ARG: {fillKey: 'notpresent'},
          COL: {fillKey: 'notpresent' },
          AUS: {fillKey: 'notpresent' },
          ZAF: {fillKey: 'notpresent' },
          ESP: {fillKey: 'present'}
          //EUR: {fillkey: 'present'}     
        }
      });

  
      
    
        var count1 = 100;
      var count2 = 200;
      var count3 = 300;

      //current_city
      //current_state

//https://maps.googleapis.com/maps/api/geocode/json?address=1600+Amphitheatre+Parkway,+//Mountain+View,+CA&key=AIzaSyBg5biu2ul99Vsk3xNU1ZAZ3QlTw-T-IaA

var blah;

function handleLookUp(blah) {
<% @users.each do |user| %>

    var url = "https://maps.googleapis.com/maps/api/geocode/json?address=";
    url = url + "<%= user.current_city %>" + "," + "<%= user.current_state %>" + "&key=AIzaSyBg5biu2ul99Vsk3xNU1ZAZ3QlTw-T-IaA";
    req = new XMLHttpRequest();
    req.open('GET', url, true);
    req.addEventListener('load', handleResponse);
    req.send();

<% end %>
} 
function handleResponse(data){

  if(this.status >= 200 && this.status < 400) {
  }
}

       //bubbles, custom popup on hover template
     map.bubbles([


        <% @users.each do |user| %>
        <% if user.current_city == "New York City" || user.current_city == "New York"%>
           {name:  "<%= user.first_name %> <%= user.last_name %>", latitude:40.9175771+ Math.random()*5, longitude: -73.70027209999999 + Math.random()*5, radius: Math.random()*18, fillKey: 'gt50'},
          <% end %>
       <% end %>
     ], {
       popupTemplate: function(geo, data) {
         return "<div class='hoverinfo'>" + data.name + "</div>";
       }
     });
  </script>
     
</body>